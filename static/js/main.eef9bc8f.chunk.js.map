{"version":3,"sources":["components/inputField/index.jsx","components/options/index.jsx","components/dataRenderer/index.jsx","components/multiSelect/index.jsx","App.jsx","utils/index.js","serviceWorker.js","index.js"],"names":["InputField","_ref","label","props","Object","objectWithoutProperties","react_default","a","createElement","className","htmlFor","id","Options","filters","onChangeFilters","inputField","type","onChange","min","max","value","limit","lat2","lat1","lon2","lon1","DataRenderer","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","d3init","svgElement","svgElementRef","current","svg","d3","svgMainGroup","append","selectAll","data","worldGeoJson","features","enter","attr","datum","d3Geo","window","addEventListener","d3render","width","clientWidth","height","clientHeight","screenScale","Math","PI","pixelScale","projection","scale","translate","geoPathProjection","zoomTransform","venues","length","bounds","minX","Infinity","minY","maxX","maxY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","venue","_projection","lon","lat","_projection2","slicedToArray","x","y","err","return","computeVenuesBounds","dx","dy","computeVenuesZoomTransform","style","k","remove","d","d3destroy","removeEventListener","React","createRef","ref","Component","MultiSelect","_useState","useState","_useState2","selectedOptions","setSelectedOptions","react_multi_select_default","items","options","selectedItems","newSelectedOptions","console","log","App","loading","error","categories","setData","_useState3","_useState4","setFilters","handleResolve","Array","from","Set","map","category","handleReject","useEffect","objectSpread","fetch","concat","entries","filter","entry","join","parseFilters","then","res","ok","json","statusText","catch","event","defineProperty","target","JSON","stringify","multiSelect","selectedCategories","dataRenderer","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eef9bc8f.chunk.js","sourcesContent":["import React from 'react';\nimport './InputField.css';\n\nconst InputField = ({ label, ...props }) => (\n  <div className=\"input-field\">\n    {label && <label htmlFor={props.id}>{label}</label>}\n    <input {...props} />\n  </div>\n);\n\nexport default InputField;\n","import React from 'react';\nimport './Options.css';\nimport InputField from '../inputField';\n\nconst Options = ({ filters, onChangeFilters }) => (\n  <header className=\"options\">\n    <InputField\n      label=\"Maximum returned matches\"\n      type=\"number\"\n      id=\"limit\"\n      onChange={onChangeFilters}\n      min={0}\n      max={16000}\n      value={filters.limit}\n    />\n    <InputField\n      label=\"Minimum Latitude\"\n      type=\"number\"\n      id=\"lat1\"\n      onChange={onChangeFilters}\n      min={-90}\n      max={filters.lat2 - 1}\n      value={filters.lat1}\n    />\n    <InputField\n      label=\"Maximum Latitude\"\n      type=\"number\"\n      id=\"lat2\"\n      onChange={onChangeFilters}\n      min={filters.lat1 + 1}\n      max={90}\n      value={filters.lat2}\n    />\n    <InputField\n      label=\"Minimum Longitude\"\n      type=\"number\"\n      id=\"lon1\"\n      onChange={onChangeFilters}\n      min={-180}\n      max={filters.lon2 - 1}\n      value={filters.lon1}\n    />\n    <InputField\n      label=\"Maximum Longitude\"\n      type=\"number\"\n      id=\"lon2\"\n      onChange={onChangeFilters}\n      min={filters.lon1 + 1}\n      max={180}\n      value={filters.lon2}\n    />\n  </header>\n);\n\nexport default Options;\n","import React from 'react';\nimport './DataRenderer.css';\nimport * as d3 from 'd3';\nimport * as d3Geo from 'd3-geo';\nimport worldGeoJson from './world.geo.json';\n\nclass DataRenderer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.svgElementRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const svgElement = this.svgElementRef.current;\n    if (svgElement) {\n      this.d3init(svgElement);\n      this.d3render();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.svgElementRef.current) {\n      this.d3render();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.svgElementRef.current) {\n      this.d3destroy();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"data-container\">\n        <svg width=\"100%\" height=\"100%\" ref={this.svgElementRef} />\n      </div>\n    );\n  }\n\n  d3init = () => {\n    const svgElement = this.svgElementRef.current;\n\n    const svg = d3.select(svgElement);\n    this.svg = svg;\n\n    const svgMainGroup = svg.append('g');\n    this.svgMainGroup = svgMainGroup;\n\n    svgMainGroup\n      .append('g')\n      .selectAll('path')\n      .data(worldGeoJson.features)\n      .enter()\n      .append('path')\n      .attr('class', 'd3map-region');\n\n    svgMainGroup\n      .append('path')\n      .attr('class', 'd3map-graticule')\n      .datum(d3Geo.geoGraticule());\n\n    window.addEventListener('resize', this.d3render);\n  };\n\n  d3render = () => {\n    const svgMainGroup = this.svgMainGroup;\n    if (!svgMainGroup) {\n      return;\n    }\n\n    // Get svg element size\n    const svgElement = this.svgElementRef.current;\n    const width = svgElement.clientWidth;\n    const height = svgElement.clientHeight;\n\n    // This represent the scale to apply to the regions and graticule\n    const screenScale = (Math.min(height, width) * 1.15) / Math.PI;\n\n    // This is a scale that can be multiplied to elements that have to be shown over the maps\n    const pixelScale = screenScale / 1100;\n\n    // The d3 geo projection and zooming transform\n\n    const projection = d3Geo\n      .geoEquirectangular()\n      .scale(screenScale)\n      .translate([width / 2, height / 2]);\n\n    const geoPathProjection = d3Geo.geoPath().projection(projection);\n\n    const zoomTransform = computeVenuesZoomTransform(\n      this.props.venues,\n      projection,\n      width,\n      height\n    );\n\n    svgMainGroup.style('stroke-width', 1.5 / zoomTransform.k);\n    svgMainGroup.attr('transform', zoomTransform);\n\n    // Update projection for regions and graticule\n\n    svgMainGroup.selectAll('.d3map-region').attr('d', geoPathProjection);\n    svgMainGroup.selectAll('.d3map-graticule').attr('d', geoPathProjection);\n\n    // Re-render all markers\n\n    svgMainGroup.selectAll('.d3map-marker').remove();\n\n    svgMainGroup\n      .selectAll('.d3map-marker')\n      .data(this.props.venues)\n      .enter()\n      .append('circle')\n      .attr('class', 'd3map-marker')\n      .attr('cx', function(d) {\n        return projection([d.lon, d.lat])[0];\n      })\n      .attr('cy', function(d) {\n        return projection([d.lon, d.lat])[1];\n      })\n      .attr('r', 20 * pixelScale);\n  };\n\n  d3destroy = () => {\n    window.removeEventListener('resize', this.d3render);\n    this.svg = null;\n    this.svgMainGroup = null;\n  };\n}\n\nfunction computeVenuesBounds(venues, projection) {\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n  for (const venue of venues) {\n    const [x, y] = projection([venue.lon, venue.lat]);\n    minX = Math.min(minX, x);\n    minY = Math.min(minY, y);\n    maxX = Math.max(maxX, x);\n    maxY = Math.max(maxY, y);\n  }\n  return [[minX, minY], [maxX, maxY]];\n}\n\nfunction computeVenuesZoomTransform(venues, projection, width, height) {\n  if (venues.length > 0) {\n    const bounds = computeVenuesBounds(venues, projection);\n    const dx = bounds[1][0] - bounds[0][0];\n    const dy = bounds[1][1] - bounds[0][1];\n    const x = (bounds[0][0] + bounds[1][0]) / 2;\n    const y = (bounds[0][1] + bounds[1][1]) / 2;\n    const scale = Math.max(\n      1,\n      Math.min(8, 0.9 / Math.max(dx / width, dy / height))\n    );\n\n    return d3.zoomIdentity\n      .translate(width / 2 - scale * x, height / 2 - scale * y)\n      .scale(scale);\n  }\n  return d3.zoomIdentity;\n}\n\nexport default DataRenderer;\n","import React, { useState } from 'react';\nimport { default as BaseSelect } from '@kenshooui/react-multi-select';\nimport '@kenshooui/react-multi-select/dist/style.css';\n\nconst MultiSelect = ({ label, ...props }) => {\n  const [selectedOptions, setSelectedOptions] = useState([]);\n  const handleChange = newSelectedOptions => {\n    props.onChange(newSelectedOptions);\n    console.log(newSelectedOptions);\n    setSelectedOptions(newSelectedOptions);\n  };\n\n  return (\n    <BaseSelect\n      items={props.options}\n      selectedItems={selectedOptions}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default MultiSelect;\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { parseFilters } from './utils';\nimport Options from './components/options';\nimport DataRenderer from './components/dataRenderer';\nimport MultiSelect from './components/multiSelect';\n\nconst App = () => {\n  const [data, setData] = useState({\n    venues: [],\n    loading: false,\n    error: null,\n    categories: []\n  });\n  const [filters, setFilters] = useState({\n    lat1: -90,\n    lat2: 90,\n    lon1: -180,\n    lon2: 180,\n    limit: 160000\n  });\n  const handleResolve = ({ venues, ...rest }) => {\n    setData({\n      venues,\n      error: null,\n      loading: false,\n      categories: data.categories.length\n        ? data.categories\n        : Array.from(new Set(venues.map(venue => venue.category)))\n    });\n  };\n  const handleReject = error => setData({ venues: [], error, loading: false });\n  const onChangeFilters = event =>\n    setFilters({ ...filters, [event.target.id]: event.target.value });\n  const onChangeCategoryFilter = selectedCategories =>\n    setFilters({\n      ...filters,\n      category:\n        selectedCategories.length === data.categories.length\n          ? undefined\n          : selectedCategories.map(category => category.label)\n    });\n\n  useEffect(() => {\n    setData({ ...data, loading: true });\n    fetch(\n      `https://cors-anywhere.herokuapp.com/https://coinmap.org/api/v1/venues/?mode=list&${parseFilters(\n        filters\n      )}`\n    )\n      .then(res => {\n        if (!res.ok) {\n          handleReject(res.statusText || 'Unexpected error');\n          return [];\n        }\n        return res.json();\n      })\n      .then(handleResolve)\n      .catch(handleReject);\n    //eslint-disable-next-line\n  }, [filters]);\n\n  return (\n    <div className=\"app\">\n      <Options\n        filters={filters}\n        onChangeFilters={onChangeFilters}\n        categories={data.categories}\n      />\n      <p>{data.loading && 'Loading...'}</p>\n      {data.error && JSON.stringify(data.error)}\n      <p>\n        {data.venues &&\n          data.venues.length &&\n          `Found ${data.venues && data.venues.length} different venues`}\n      </p>\n      <div className=\"world-map-selector\">\n        <MultiSelect\n          options={data.categories.map((label, id) => ({ label, id }))}\n          onChange={onChangeCategoryFilter}\n        />\n        <DataRenderer venues={data.venues} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","export const parseFilters = filters =>\n  Object.entries(filters)\n    .filter(entry => entry[1] !== undefined)\n    .map(filter => filter.join('='))\n    .join('&');\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}